# 【ios】 fgo 自动打本
## 效果视频演示
* https://www.bilibili.com/video/av67121512/

## 如何使用
* 前往 http://www.touchelf.com/ 安装触摸精灵(最新版似乎会导致白菊花，我用的3.7.0)
* 导入lua文件到/var/touchelf/scripts
* `main.lua`--手动播放--简单输入每回合放的宝具、技能等信息
* 进游戏把要打的本置于第一个，按音量键开始播放即可自动进本、打本、出本、吃苹果
## 文件
* `lib_fgo.lua` 各种函数
* `main.lua` 主程序
## 使用说明
* 推荐配好3t或三面补刀的队伍，
  * 非3t队伍也行。比如二面宝具没打死，那么会自动平砍到3面再放应该在3面放的宝具和技能，不会乱放。XJBD队也行，如果打着打着全猝死了，会自动撤退。支持只有一/二面、一面两批的副本。
  * 内置几个我自用的队伍信息。狂兰可刷钢、阿塔可刷勋章，尼托加二号打手可刷灰。
  * 出卡优先级大致为：红字打手、白字打手、红字拐、白字拐、蓝字打手、蓝字拐。每个级别再按队伍性质细分三色卡优先级。
  * 绿卡队带洗牌服三面没打手卡会自动洗牌
* 可自动选指定礼装/助战。
  * 也可手动选，选完进本自动开打。
  * 无限池会更新相应礼装选项
  * 选cba会自动选充能满了的
* 建议安装游戏蜂窝开启6倍加速
  * 不加速的延迟也写了但没测试
  * 个人开了1年加速没啥事，不过演示视频传b站上了就不好说了
* 支持国服/台服


## 界面
![](https://github.com/brendonjkding/fgo_lua_test/raw/master/pic/1.PNG) 
![](https://github.com/brendonjkding/fgo_lua_test/raw/master/pic/2.PNG) 
![](https://github.com/brendonjkding/fgo_lua_test/raw/master/pic/3.PNG) 

## 目前的问题
* 目前只支持iphone8分辨率
* 自动选助战只支持三破，问题不大
* 打着打着充满的宝具不会释放，只会释放预先设定好的
* 战斗结束判定不完善，立绘较大的角色羁绊等级提升时会卡住，御主升级/衣服升级/掉礼装待确认，不过这类情况较少发生

## 深入了解
* 触摸精灵文档 https://www.zybuluo.com/touchelf/note/153751

